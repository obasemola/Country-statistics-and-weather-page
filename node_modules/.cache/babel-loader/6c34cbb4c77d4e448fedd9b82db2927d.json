{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\37258\\\\part1\\\\src\\\\components\\\\App.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nconst App = () => {\n  const [country, setCountry] = useState('');\n  const [countriesInfo, setCountriesInfo] = useState([]);\n  const [dataResponse, setDataResponse] = useState([]);\n  const [dataDisplayed, setDataDisplayed] = useState('');\n\n  const hook = () => {\n    axios.get('https://restcountries.eu/rest/v2/all').then(response => {\n      setCountriesInfo(response.data);\n    });\n    handleCountryChange();\n  };\n\n  useEffect(() => {\n    hook();\n  }, [country, dataResponse.length]); // console.log(countriesInfo[0]);\n\n  const handleCountryChange = () => {\n    // setCountry(e.target.value)\n    const found = countriesInfo.findIndex(countryInfo => {\n      return countryInfo.name.includes(country);\n    });\n\n    if (found === -1) {\n      return;\n    } else if (found > -1) {\n      const updatedCountry = countriesInfo.filter(countryInfo => {\n        return countryInfo.name.includes(country);\n      });\n      setDataResponse(updatedCountry);\n    }\n\n    const getData = () => {\n      if (dataResponse.length > 10) {\n        setDataDisplayed('Too many matches, specify another filter');\n      } else if (dataResponse.length < 10 && dataResponse.length > 1) {\n        const returnedData = dataResponse.map(data => {\n          return /*#__PURE__*/React.createElement(\"div\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 16\n            }\n          }, /*#__PURE__*/React.createElement(\"span\", {\n            key: data.numericCode,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 17\n            }\n          }, data.name), /*#__PURE__*/React.createElement(\"button\", {\n            name: data.name,\n            onClick: handleCountryClick,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 17\n            }\n          }, \"show\"));\n        });\n        setDataDisplayed(returnedData); // console.log(dataResponse)\n      } else if (dataResponse.length === 1) {\n        const returnedData = dataResponse.map(data => {\n          return /*#__PURE__*/React.createElement(\"div\", {\n            key: data.numericCode,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 16\n            }\n          }, /*#__PURE__*/React.createElement(\"h1\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 17\n            }\n          }, data.name), /*#__PURE__*/React.createElement(\"p\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 17\n            }\n          }, \"capital \", data.capital), /*#__PURE__*/React.createElement(\"p\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 17\n            }\n          }, \"population \", data.population), /*#__PURE__*/React.createElement(\"h4\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 17\n            }\n          }, \"languages\"), /*#__PURE__*/React.createElement(\"ul\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 17\n            }\n          }, data.languages.map(language => {\n            return /*#__PURE__*/React.createElement(\"li\", {\n              key: data.nativeName,\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 28\n              }\n            }, language.name);\n          })), /*#__PURE__*/React.createElement(\"img\", {\n            src: data.flag,\n            width: \"100\",\n            height: \"100\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 17\n            }\n          }));\n        });\n        setDataDisplayed(returnedData);\n      }\n\n      getData();\n    };\n  };\n\n  const handleCountryClick = e => {\n    const updatedCountry = countriesInfo.filter(countryInfo => {\n      return countryInfo.name === e.target.name;\n    });\n    setDataResponse(updatedCountry); // setCountry(e.target.name)\n    // e.target.value = ''\n\n    console.log(e.target.name);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }\n  }, \"find countries\", /*#__PURE__*/React.createElement(\"input\", {\n    onChange: e => {\n      setCountry(e.target.value);\n    },\n    value: country,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  })), dataDisplayed);\n};\n\nexport default App;","map":{"version":3,"sources":["C:/Users/37258/part1/src/components/App.js"],"names":["React","useState","useEffect","axios","App","country","setCountry","countriesInfo","setCountriesInfo","dataResponse","setDataResponse","dataDisplayed","setDataDisplayed","hook","get","then","response","data","handleCountryChange","length","found","findIndex","countryInfo","name","includes","updatedCountry","filter","getData","returnedData","map","numericCode","handleCountryClick","capital","population","languages","language","nativeName","flag","e","target","console","log","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\n\r\nconst App = () => {\r\n  const [ country, setCountry ] = useState('');\r\n  const [ countriesInfo, setCountriesInfo ] = useState([]);\r\n  const [ dataResponse, setDataResponse ] = useState([]);\r\n  const [ dataDisplayed, setDataDisplayed ] = useState('')\r\n\r\n  const hook = () => {\r\n    axios.get('https://restcountries.eu/rest/v2/all').then(response => {\r\n      setCountriesInfo(response.data)\r\n    })\r\n    handleCountryChange()\r\n  }\r\n\r\n  useEffect(() => {\r\n    hook()\r\n  }, [ country, dataResponse.length ])\r\n  // console.log(countriesInfo[0]);\r\n\r\n  const handleCountryChange = () => {\r\n    // setCountry(e.target.value)\r\n    const found = countriesInfo.findIndex((countryInfo) => {\r\n      return countryInfo.name.includes(country)\r\n    })\r\n\r\n    if( found === -1 ) {\r\n      return;\r\n    } else if ( found > -1 ) {\r\n      const updatedCountry = countriesInfo.filter((countryInfo) => {\r\n        return countryInfo.name.includes(country)\r\n      })\r\n      setDataResponse(updatedCountry)\r\n\r\n    }\r\n \r\n\r\n    const getData = () =>{\r\n      if ( dataResponse.length >  10) {\r\n\r\n      setDataDisplayed('Too many matches, specify another filter')\r\n    } else if ( dataResponse.length < 10 && dataResponse.length > 1 ) {\r\n      const returnedData = dataResponse.map((data) => {\r\n         \r\n        return <div>\r\n                <span key={data.numericCode}>{data.name}</span>\r\n                <button name={data.name}onClick={handleCountryClick}>show</button>\r\n               </div>\r\n        \r\n      })\r\n      setDataDisplayed(returnedData)\r\n      // console.log(dataResponse)\r\n    } else if ( dataResponse.length === 1 ) {\r\n      const returnedData = dataResponse.map((data) => {\r\n \r\n        return <div key={data.numericCode}>\r\n                <h1>{data.name}</h1>\r\n                <p>capital {data.capital}</p>\r\n                <p>population {data.population}</p>\r\n                <h4>languages</h4>\r\n                <ul>\r\n                  {data.languages.map((language) => {\r\n                    return <li key={data.nativeName}>{language.name}</li>\r\n                  })}\r\n                </ul>\r\n                <img src={data.flag} width=\"100\" height=\"100\"/>\r\n               </div>\r\n        \r\n      })\r\n      setDataDisplayed(returnedData)\r\n    }\r\n    getData();\r\n  }}\r\n\r\n\r\n\r\n  const handleCountryClick = (e) => {\r\n    const updatedCountry = countriesInfo.filter((countryInfo) => {\r\n      return countryInfo.name === e.target.name\r\n    })\r\n    setDataResponse(updatedCountry)\r\n    // setCountry(e.target.name)\r\n    // e.target.value = ''\r\n    console.log(e.target.name)\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n      <form>\r\n        find countries\r\n        <input\r\n        onChange={(e) => {setCountry(e.target.value)}}\r\n        value={country}>\r\n        </input>\r\n      </form>\r\n      {dataDisplayed}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App"]},"metadata":{},"sourceType":"module"}