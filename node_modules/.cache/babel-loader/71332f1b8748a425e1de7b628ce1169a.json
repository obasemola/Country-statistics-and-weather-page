{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\37258\\\\part1\\\\src\\\\components\\\\App.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nconst App = () => {\n  const [country, setCountry] = useState('');\n  const [countriesInfo, setCountriesInfo] = useState([]);\n  const [dataResponse, setDataResponse] = useState([]);\n  const [dataDisplayed, setDataDisplayed] = useState('');\n  const [searchStatus, setSearchStatus] = useState(undefined);\n\n  const hook = () => {\n    axios.get('https://restcountries.eu/rest/v2/all').then(response => {\n      setCountriesInfo(response.data);\n    });\n  };\n\n  useEffect(hook, []); // console.log(countriesInfo[0]);\n\n  const handleCountryChange = e => {\n    setCountry(e.target.value);\n    console.log(country);\n    const found = countriesInfo.findIndex(countryInfo => {\n      return countryInfo.name.includes(country);\n    });\n\n    if (found === -1) {\n      setSearchStatus(false);\n    } else if (found > -1) {\n      setSearchStatus(true);\n    }\n\n    const updatedCountry = searchStatus ? countriesInfo.filter(countryInfo => countryInfo.name.includes(country)) : undefined;\n    setDataResponse(updatedCountry);\n    console.log(dataResponse); // if ( dataResponse >  10) {\n    //   console.log(dataResponse)\n    //   setDataDisplayed('Too many matches, specify another filter')\n    // }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, \"find countries\", /*#__PURE__*/React.createElement(\"input\", {\n    onChange: handleCountryChange,\n    value: country,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, dataDisplayed)));\n};\n\nexport default App;","map":{"version":3,"sources":["C:/Users/37258/part1/src/components/App.js"],"names":["React","useState","useEffect","axios","App","country","setCountry","countriesInfo","setCountriesInfo","dataResponse","setDataResponse","dataDisplayed","setDataDisplayed","searchStatus","setSearchStatus","undefined","hook","get","then","response","data","handleCountryChange","e","target","value","console","log","found","findIndex","countryInfo","name","includes","updatedCountry","filter"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,GAAG,GAAG,MAAM;AAChB,QAAM,CAAEC,OAAF,EAAWC,UAAX,IAA0BL,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAAEM,aAAF,EAAiBC,gBAAjB,IAAsCP,QAAQ,CAAC,EAAD,CAApD;AACA,QAAM,CAAEQ,YAAF,EAAgBC,eAAhB,IAAoCT,QAAQ,CAAC,EAAD,CAAlD;AACA,QAAM,CAAEU,aAAF,EAAiBC,gBAAjB,IAAsCX,QAAQ,CAAC,EAAD,CAApD;AACA,QAAM,CAAEY,YAAF,EAAgBC,eAAhB,IAAoCb,QAAQ,CAACc,SAAD,CAAlD;;AAEA,QAAMC,IAAI,GAAG,MAAM;AACjBb,IAAAA,KAAK,CAACc,GAAN,CAAU,sCAAV,EAAkDC,IAAlD,CAAuDC,QAAQ,IAAI;AACjEX,MAAAA,gBAAgB,CAACW,QAAQ,CAACC,IAAV,CAAhB;AACD,KAFD;AAGD,GAJD;;AAMAlB,EAAAA,SAAS,CAACc,IAAD,EAAO,EAAP,CAAT,CAbgB,CAchB;;AAEA,QAAMK,mBAAmB,GAAIC,CAAD,IAAO;AACjChB,IAAAA,UAAU,CAACgB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAV;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYrB,OAAZ;AACA,UAAMsB,KAAK,GAAGpB,aAAa,CAACqB,SAAd,CAAyBC,WAAD,IAAiB;AACrD,aAAOA,WAAW,CAACC,IAAZ,CAAiBC,QAAjB,CAA0B1B,OAA1B,CAAP;AACD,KAFa,CAAd;;AAIA,QAAIsB,KAAK,KAAK,CAAC,CAAf,EAAmB;AACjBb,MAAAA,eAAe,CAAC,KAAD,CAAf;AACD,KAFD,MAEO,IAAKa,KAAK,GAAG,CAAC,CAAd,EAAkB;AACvBb,MAAAA,eAAe,CAAC,IAAD,CAAf;AACD;;AAGD,UAAMkB,cAAc,GAAGnB,YAAY,GAAGN,aAAa,CAAC0B,MAAd,CAAqBJ,WAAW,IAAIA,WAAW,CAACC,IAAZ,CAAiBC,QAAjB,CAA0B1B,OAA1B,CAApC,CAAH,GAA6EU,SAAhH;AACAL,IAAAA,eAAe,CAACsB,cAAD,CAAf;AACAP,IAAAA,OAAO,CAACC,GAAR,CAAYjB,YAAZ,EAhBiC,CAkBjC;AACA;AACA;AACA;AAGD,GAxBD;;AA4BA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCAEE;AACA,IAAA,QAAQ,EAAEY,mBADV;AAEA,IAAA,KAAK,EAAEhB,OAFP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIM,aAAJ,CANF,CADF,CADF;AAYD,CAxDD;;AA0DA,eAAeP,GAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\n\r\nconst App = () => {\r\n  const [ country, setCountry ] = useState('');\r\n  const [ countriesInfo, setCountriesInfo ] = useState([]);\r\n  const [ dataResponse, setDataResponse ] = useState([]);\r\n  const [ dataDisplayed, setDataDisplayed ] = useState('');\r\n  const [ searchStatus, setSearchStatus ] = useState(undefined);\r\n\r\n  const hook = () => {\r\n    axios.get('https://restcountries.eu/rest/v2/all').then(response => {\r\n      setCountriesInfo(response.data)\r\n    })\r\n  }\r\n\r\n  useEffect(hook, []);\r\n  // console.log(countriesInfo[0]);\r\n\r\n  const handleCountryChange = (e) => {\r\n    setCountry(e.target.value)\r\n    console.log(country);\r\n    const found = countriesInfo.findIndex((countryInfo) => {\r\n      return countryInfo.name.includes(country)\r\n    })\r\n\r\n    if( found === -1 ) {\r\n      setSearchStatus(false)\r\n    } else if ( found > -1 ) {\r\n      setSearchStatus(true)\r\n    }\r\n    \r\n\r\n    const updatedCountry = searchStatus ? countriesInfo.filter(countryInfo => countryInfo.name.includes(country)) : undefined;\r\n    setDataResponse(updatedCountry)\r\n    console.log(dataResponse)\r\n\r\n    // if ( dataResponse >  10) {\r\n    //   console.log(dataResponse)\r\n    //   setDataDisplayed('Too many matches, specify another filter')\r\n    // }\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n      <form>\r\n        find countries\r\n        <input\r\n        onChange={handleCountryChange}\r\n        value={country}>\r\n        </input>\r\n        <p>{dataDisplayed}</p>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App"]},"metadata":{},"sourceType":"module"}