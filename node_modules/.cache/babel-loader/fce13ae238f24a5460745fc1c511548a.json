{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\37258\\\\part1\\\\src\\\\components\\\\App.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nconst App = () => {\n  const [country, setCountry] = useState('');\n  const [countriesInfo, setCountriesInfo] = useState([]);\n  const [dataResponse, setDataResponse] = useState([]);\n  const [dataDisplayed, setDataDisplayed] = useState('');\n  const [weatherDisplayed, setWeatherDisplayed] = useState([]);\n  const [weather, setWeather] = useState({});\n  const [location, setLocation] = useState('');\n\n  const hook = () => {\n    axios.get('https://restcountries.eu/rest/v2/all').then(response => {\n      setCountriesInfo(response.data);\n    });\n    handleCountryChange();\n  };\n\n  const getWeather = () => {\n    axios.get('http://api.weatherstack.com/current', {\n      params: {\n        access_key: process.env.REACT_APP_API_KEY,\n        query: location\n      }\n    }).then(response => {\n      if (location) {\n        const cityWeather = {\n          temperature: response.data.current.temperature,\n          icon: response.data.current.weather_icons[0],\n          speed: response.data.current.wind_speed,\n          direction: response.data.current.wind_dir\n        };\n        setWeather(cityWeather);\n\n        const returnedWeather = () => {\n          return /*#__PURE__*/React.createElement(\"div\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 39,\n              columnNumber: 11\n            }\n          }, /*#__PURE__*/React.createElement(\"h3\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 40,\n              columnNumber: 19\n            }\n          }, \"Weather in \", location), /*#__PURE__*/React.createElement(\"p\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 41,\n              columnNumber: 19\n            }\n          }, /*#__PURE__*/React.createElement(\"strong\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 41,\n              columnNumber: 22\n            }\n          }, \"temperature: \", weather.temperature, \" celcius\")), /*#__PURE__*/React.createElement(\"img\", {\n            src: weather.icon,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 42,\n              columnNumber: 19\n            }\n          }), /*#__PURE__*/React.createElement(\"p\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 19\n            }\n          }, /*#__PURE__*/React.createElement(\"strong\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 22\n            }\n          }, \"wind:\"), \" \", weather.speed, \" mph direction \", weather.direction));\n        };\n\n        setWeatherDisplayed(returnedWeather);\n      } else {\n        return;\n      }\n    });\n  };\n\n  useEffect(() => {\n    hook();\n  }, [country, dataResponse.length, location]); // useEffect(hook, [ country, dataResponse.length, Object.keys(weather).length ])\n  // useEffect(getWeather, [dataResponse.length, location])\n\n  console.log(weather.temperature);\n\n  const handleCountryChange = () => {\n    const found = countriesInfo.findIndex(countryInfo => countryInfo.name.includes(country));\n\n    if (found === -1) {\n      return;\n    } else if (found > -1) {\n      const updatedCountry = countriesInfo.filter(countryInfo => countryInfo.name.includes(country));\n      setDataResponse(updatedCountry);\n    }\n\n    if (dataResponse.length > 10) {\n      setDataDisplayed('Too many matches, specify another filter');\n    } else if (dataResponse.length < 10 && dataResponse.length > 1) {\n      const returnedData = dataResponse.map(data => {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 16\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          key: data.numericCode,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 17\n          }\n        }, data.name), /*#__PURE__*/React.createElement(\"button\", {\n          name: data.name,\n          onClick: e => {\n            setCountry(e.target.name);\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 17\n          }\n        }, \"show\"));\n      });\n      setDataDisplayed(returnedData); // console.log(dataResponse)\n    } else if (dataResponse.length === 1) {\n      setLocation(dataResponse[0].capital);\n      console.log(dataResponse);\n      console.log(dataResponse[0].capital);\n      console.log(location);\n      getWeather();\n      console.log(Object.keys(weather).length);\n      const returnedData = dataResponse.map(data => {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: data.numericCode,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 16\n          }\n        }, /*#__PURE__*/React.createElement(\"h1\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 17\n          }\n        }, data.name), /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 17\n          }\n        }, \"capital \", data.capital), /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 17\n          }\n        }, \"population \", data.population), /*#__PURE__*/React.createElement(\"h3\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 17\n          }\n        }, \"Spoken languages\"), /*#__PURE__*/React.createElement(\"ul\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 17\n          }\n        }, data.languages.map(language => {\n          return /*#__PURE__*/React.createElement(\"li\", {\n            key: data.languages.nativeName,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 28\n            }\n          }, language.name);\n        })), /*#__PURE__*/React.createElement(\"img\", {\n          src: data.flag,\n          width: \"100\",\n          height: \"100\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 17\n          }\n        }));\n      });\n      setDataDisplayed(returnedData);\n    }\n  }; // useEffect(weather, [dataResponse.length, location.length])\n\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }\n  }, \"find countries\", /*#__PURE__*/React.createElement(\"input\", {\n    onChange: e => {\n      setCountry(e.target.value);\n    },\n    value: country,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }\n  })), dataDisplayed, weatherDisplayed);\n};\n\nexport default App;","map":{"version":3,"sources":["C:/Users/37258/part1/src/components/App.js"],"names":["React","useState","useEffect","axios","App","country","setCountry","countriesInfo","setCountriesInfo","dataResponse","setDataResponse","dataDisplayed","setDataDisplayed","weatherDisplayed","setWeatherDisplayed","weather","setWeather","location","setLocation","hook","get","then","response","data","handleCountryChange","getWeather","params","access_key","process","env","REACT_APP_API_KEY","query","cityWeather","temperature","current","icon","weather_icons","speed","wind_speed","direction","wind_dir","returnedWeather","length","console","log","found","findIndex","countryInfo","name","includes","updatedCountry","filter","returnedData","map","numericCode","e","target","capital","Object","keys","population","languages","language","nativeName","flag","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\n\r\nconst App = () => {\r\n  const [ country, setCountry ] = useState('');\r\n  const [ countriesInfo, setCountriesInfo ] = useState([]);\r\n  const [ dataResponse, setDataResponse ] = useState([]);\r\n  const [ dataDisplayed, setDataDisplayed ] = useState('')\r\n  const [ weatherDisplayed, setWeatherDisplayed ] = useState([])\r\n  const [ weather, setWeather ] = useState({})\r\n  const [ location, setLocation ] = useState('')\r\n\r\n  const hook = () => {\r\n    axios.get('https://restcountries.eu/rest/v2/all').then(response => {\r\n      setCountriesInfo(response.data)\r\n    })\r\n    handleCountryChange()\r\n  }\r\n\r\n  const getWeather = () => {\r\n    axios.get('http://api.weatherstack.com/current', {\r\n      params: {\r\n        access_key: process.env.REACT_APP_API_KEY,\r\n        query: location\r\n      }\r\n    }).then(response => {\r\n      if (location) {\r\n        const cityWeather = {\r\n          temperature: response.data.current.temperature,\r\n          icon: response.data.current.weather_icons[0],\r\n          speed: response.data.current.wind_speed,\r\n          direction: response.data.current.wind_dir\r\n        }\r\n        setWeather(cityWeather)\r\n\r\n        const returnedWeather = () => {\r\n        \r\n          return (\r\n          <div>\r\n                  <h3>Weather in {location}</h3>\r\n                  <p><strong>temperature: {weather.temperature} celcius</strong></p>\r\n                  <img src={weather.icon}/>\r\n                  <p><strong>wind:</strong> {weather.speed} mph direction {weather.direction}</p>\r\n                 </div>\r\n                 )\r\n        }\r\n        setWeatherDisplayed(returnedWeather)\r\n      } else {\r\n        return;\r\n      }\r\n\r\n    })\r\n  }\r\n\r\n  useEffect(()=> {\r\n    hook()\r\n     }, [ country, dataResponse.length, location])\r\n\r\n  // useEffect(hook, [ country, dataResponse.length, Object.keys(weather).length ])\r\n  // useEffect(getWeather, [dataResponse.length, location])\r\n\r\n  console.log(weather.temperature)\r\n\r\n\r\n  const handleCountryChange = () => {\r\n\r\n    const found = countriesInfo.findIndex(countryInfo => countryInfo.name.includes(country))\r\n\r\n    if( found === -1 ) {\r\n      return;\r\n    }\r\n    else if ( found > -1 ) {\r\n      const updatedCountry = countriesInfo.filter(countryInfo => countryInfo.name.includes(country))\r\n      setDataResponse(updatedCountry)\r\n\r\n    }\r\n \r\n\r\n    if ( dataResponse.length >  10 ) {\r\n\r\n      setDataDisplayed('Too many matches, specify another filter')\r\n    }\r\n    else if ( dataResponse.length < 10 && dataResponse.length > 1 ) {\r\n      const returnedData = dataResponse.map((data) => {\r\n         \r\n        return <div>\r\n                <span key={data.numericCode}>{data.name}</span>\r\n                <button name={data.name}onClick={(e) => {setCountry(e.target.name)}}>show</button>\r\n               </div>\r\n        \r\n      })\r\n      setDataDisplayed(returnedData)\r\n      // console.log(dataResponse)\r\n    }\r\n    else if ( dataResponse.length === 1 ) {\r\n      setLocation(dataResponse[0].capital)\r\n      console.log(dataResponse)\r\n      console.log(dataResponse[0].capital)\r\n      console.log(location)\r\n      getWeather()\r\n      console.log(Object.keys(weather).length)\r\n      const returnedData = dataResponse.map((data) => {\r\n \r\n        return <div key={data.numericCode}>\r\n                <h1>{data.name}</h1>\r\n                <p>capital {data.capital}</p>\r\n                <p>population {data.population}</p>\r\n                <h3>Spoken languages</h3>\r\n                <ul>\r\n                  {data.languages.map((language) => {\r\n                    return <li key={data.languages.nativeName}>{language.name}</li>\r\n                  })}\r\n                </ul>\r\n                <img src={data.flag} width=\"100\" height=\"100\"/>\r\n                \r\n               </div>\r\n        \r\n      })\r\n      setDataDisplayed(returnedData)\r\n\r\n      \r\n\r\n    }\r\n\r\n\r\n  }\r\n\r\n  // useEffect(weather, [dataResponse.length, location.length])\r\n\r\n\r\n\r\n  return (\r\n    <div>\r\n      <form>\r\n        find countries\r\n        <input\r\n        onChange={(e) => {setCountry(e.target.value)}}\r\n        value={country}>\r\n        </input>\r\n      </form>\r\n      {dataDisplayed}\r\n      {weatherDisplayed}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App"]},"metadata":{},"sourceType":"module"}